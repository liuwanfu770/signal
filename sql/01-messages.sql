





































);    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP    status VARCHAR(20) DEFAULT 'SENDING',    type VARCHAR(20) DEFAULT 'TEXT',    content TEXT,    group_id VARCHAR(50),    recipient_id VARCHAR(20),    sender_id VARCHAR(20) NOT NULL,    id BIGSERIAL PRIMARY KEY,CREATE TABLE messages (-- 消息表CREATE INDEX idx_signal_accounts_user_id ON signal_accounts(user_id);CREATE INDEX idx_users_username ON users(username);-- 创建索引提升查询性能);    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    status VARCHAR(20) DEFAULT 'REGISTERED',    instance_id INTEGER,    user_id INTEGER REFERENCES users(id) ON DELETE SET NULL,    phone_number VARCHAR(20) PRIMARY KEY,CREATE TABLE signal_accounts (-- Signal 账号表（移除 password 字段，简化设计）);    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    role user_role DEFAULT 'user',    password VARCHAR(255) NOT NULL,    username VARCHAR(50) UNIQUE NOT NULL,    id SERIAL PRIMARY KEY,CREATE TABLE users (-- 用户表CREATE TYPE user_role AS ENUM ('user', 'admin', 'operator');-- 创建用户角色枚举类型